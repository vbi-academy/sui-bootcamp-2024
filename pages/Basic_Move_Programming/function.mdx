

# Function trong sui move 

Function chính là những đoạn code được tái sử dụng để có thể đem đi gọi từ các functions khác hoặc dùng như entry point để chạy chương trình. 


## Khai báo Function 

Từ `fun` là từ khóa để khai báo function trong sui move. Đây là cấu trúc function trong module: 

```rust
module sui_bootcamp::function_example {

	fun add_number(num_1: u64, num_2: u64) {
		let sum = num_1 + num_2;
	}
}
```




Một function sẽ bao gồm: 

* Visibility modifiers 
* Entry modifiers(optional)
* Tên function 
* type parameters( optional)
* parameter lists 
* return type 
* Function function_body

Một function cơ bản sẽ có syntax như sau

```rust
<visibility>? <entry>? fun <identifier><[type_parameters: constraint],*>([identifier: type],*): <return_type> <function_body>
``` 

Ví dụ như đoạn code mẫu dưới đây có tên hàm là `foo`. Các generics type là `T1` và `T2` và hàm này trả về tuple. Trong hàm này chưa có impment logic gì mà chỉ đơn giản là trả về tham số đầu vào.

![](../assets/Basic_Move_Programming_image/function_example.png)


Các functions trong module chỉ có thể được gọi trong module đó. Những internal function này được gọi chung là private functions. Để cho phép các modules khác có thể access function, bạn cần phải dùng `public` hoặc `public(package)` để có các function này là public:

* `public` functions có thể được gọi trong bất kì module và thực thi như entry points. 

* `public(package)` chỉ gọi được trong những modules mà chung package( Chung địa chỉ) 

Code Example:
```rust

module sui_bootcamp::target {

    public fun foo(): u64 { 42 }

    public(package) fun bar(): u64 { 44 }
}



module sui_bootcamp::caller {
    use std::debug;

    #[test]
    fun test_calls_target() {
        let res1 = sui_bootcamp::target::foo();
        let res2 = sui_bootcamp::target::bar();

        
        debug::print(&res1);
        debug::print(&res2);
    }

```



Đoạn code ví dụ tìm min và max trong một vector: 
```rust
module sui_bootcamp::sui_function {

    use std::vector;
    use std::debug;

    // find maximum & minium values in vector

    public fun vector_min_max(vec: &mut vector<u64>): (u64, u64){
        let mut min = vector::pop_back(vec);
        let mut max = min;

        loop {
            if (vector::is_empty(vec)) break;

            let val = vector::pop_back(vec);
            if(val < min) min = val;
            if (val > max) max = val
        };

        (min, max)
    }

    #[test]
    public fun test_vectors(){
        let mut vec = vector[1, 2, 5, 8 , 10];
        debug::print(&vec);
        
        let (min, max) = vector_min_max(&mut vec);

        debug::print(&min);
        debug::print(&max);

    }

```

Kết quả là:
![](../assets/Basic_Move_Programming_image/min_max_function.png)



## Functions visibility 

Tiếp theo bạn sẽ cần hiểu về Visibility - những loại functions có trong Sui Move. Ví dụ sẽ có những module có thể call được function từ module khác và một số thì không. Một trong những cái visibility mà mọi người thường biết là: `private` và `public`. 


* Private function: 


* Public function: 
